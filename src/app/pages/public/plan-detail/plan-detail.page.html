<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/" text=""></ion-back-button>
    </ion-buttons>
    <ion-title>Detalles del Plan</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="plan" [fullscreen]="true">
  
  <div class="plan-hero">
    <div class="image-wrapper">
        <img [src]="plan.imagen_url || 'assets/placeholder-plan.png'" onerror="this.src='assets/placeholder-plan.png'">
    </div>
    <h1>{{ plan.nombre }}</h1>
    <div class="price-tag">
        {{ plan.precio | currency }}<small>/mes</small>
    </div>
  </div>

  <ion-list lines="none" class="specs-list">
    
    <ion-item class="spec-item">
      <ion-icon name="wifi-outline" slot="start"></ion-icon>
      <ion-label>
        <b>Datos de Navegación</b>
        <span>{{ plan.datos }}</span>
      </ion-label>
    </ion-item>

    <ion-item class="spec-item">
      <ion-icon name="call-outline" slot="start"></ion-icon>
      <ion-label>
        <b>Minutos</b>
        <span>{{ plan.minutos }}</span>
      </ion-label>
    </ion-item>

    <ion-item class="spec-item">
      <ion-icon name="rocket-outline" slot="start"></ion-icon>
      <ion-label>
        <b>Velocidad</b>
        <span>{{ plan.velocidad }}</span>
      </ion-label>
    </ion-item>

    <ion-item class="spec-item">
      <ion-icon name="logo-facebook" slot="start"></ion-icon>
      <ion-label>
        <b>Redes Sociales</b>
        <span>{{ plan.redes_sociales }}</span>
      </ion-label>
    </ion-item>
    
    <ion-item class="spec-item">
        <ion-icon name="airplane-outline" slot="start"></ion-icon>
        <ion-label>
          <b>Roaming</b>
          <span>{{ plan.roaming }}</span>
        </ion-label>
      </ion-item>

  </ion-list>

  <div class="description-box">
    <h3>Sobre este plan</h3>
    <p>{{ plan.descripcion }}</p>
  </div>

</ion-content>

<ion-footer class="ion-no-border">
  <ion-toolbar>
    <div class="action-buttons">
      
      <ion-button expand="block" (click)="contratar()" class="btn-contract">
        {{ isLoggedIn ? '¡LO QUIERO!' : 'INGRESA PARA CONTRATAR' }}
        <ion-icon name="checkmark-circle" slot="end" *ngIf="isLoggedIn"></ion-icon>
      </ion-button>
      
      <ion-button expand="block" fill="clear" class="btn-more" 
                  [routerLink]="isLoggedIn ? ['/tabs/home'] : ['/guest-catalog']">
        Ver otros planes
      </ion-button>

    </div>
  </ion-toolbar>
</ion-footer>